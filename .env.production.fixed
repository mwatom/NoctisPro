# NoctisPro Production Environment Configuration
# Optimized for PostgreSQL Production Deployment

# Django Settings
DEBUG=False
SECRET_KEY=noctis-production-secret-key-change-this-in-production-2024
DJANGO_SETTINGS_MODULE=noctis_pro.settings_production

# Security Settings for Production
ALLOWED_HOSTS=localhost,127.0.0.1,noctis-server,192.168.100.15
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=31536000
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# Database Configuration - PostgreSQL Production
USE_SQLITE=False
POSTGRES_DB=noctisprodb
POSTGRES_USER=noctispro
POSTGRES_PASSWORD=noctis_secure_password_2025
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database Connection Pool Settings
DB_CONN_MAX_AGE=300
DB_ENGINE=django.db.backends.postgresql
DB_OPTIONS_CHARSET=utf8
DB_OPTIONS_SSLMODE=prefer

# Cache Configuration - Redis Production
USE_DUMMY_CACHE=False
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Static and Media Files
STATIC_URL=/static/
STATIC_ROOT=/workspace/staticfiles
MEDIA_URL=/media/
MEDIA_ROOT=/workspace/media
SERVE_MEDIA_FILES=True

# Logging Configuration
LOGGING_LEVEL=INFO
LOG_FILE=/workspace/logs/noctis_pro.log
DJANGO_LOG_LEVEL=INFO

# Build Configuration
BUILD_TARGET=production
ENVIRONMENT=production

# Performance Settings
CONN_MAX_AGE=300
DATA_UPLOAD_MAX_MEMORY_SIZE=52428800  # 50MB
FILE_UPLOAD_MAX_MEMORY_SIZE=52428800  # 50MB
DATA_UPLOAD_MAX_NUMBER_FIELDS=10000

# Session Configuration
SESSION_TIMEOUT_MINUTES=60
SESSION_WARNING_MINUTES=10
SESSION_COOKIE_AGE=3600
SESSION_ENGINE=django.contrib.sessions.backends.cache

# Admin Configuration
ADMIN_EMAIL=admin@noctispro.local
ADMIN_USERNAME=admin

# Email Configuration
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True

# Backup Configuration
BACKUP_ENABLED=True
BACKUP_DIRECTORY=/workspace/backups
BACKUP_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_URL=/health/
HEALTH_CHECK_INTERVAL=30

# Time Zone
TIME_ZONE=UTC
USE_TZ=True

# DICOM Configuration
DICOM_STORAGE_PATH=/workspace/media/dicom
DICOM_MAX_FILE_SIZE=104857600  # 100MB
DICOM_ALLOWED_EXTENSIONS=.dcm,.dicom

# SSL/TLS Configuration
ENABLE_SSL=false

# Domain Configuration
DOMAIN_NAME=

# PostgreSQL Performance Tuning
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_DEFAULT_STATISTICS_TARGET=100
POSTGRES_RANDOM_PAGE_COST=1.1
POSTGRES_EFFECTIVE_IO_CONCURRENCY=200